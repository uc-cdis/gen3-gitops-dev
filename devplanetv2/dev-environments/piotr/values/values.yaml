ambassador:
  enabled: true
  image:
    repository: quay.io/datawire/ambassador
    tag: 1.4.2
arborist:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/arborist
    tag: "2025.03"
audit:
  enabled: true
  externalSecrets:
    auditG3auto: piotr-audit-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/audit-service
    tag: "2024.12"
aws-es-proxy:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/aws-es-proxy
    tag: v1.3.1
fence:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  externalSecrets:
    createK8sGoogleAppSecrets: true
    fenceConfig: piotr-fence-config
    fenceJwtKeys: piotr-fence-jwt
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/fence
    tag: chore_fix_improper_certificate_validation_pps_1936
fluentd:
  enabled: true
  image:
    repository: fluent/fluentd-kubernetes-daemonset
    tag: v1.15.3-debian-cloudwatch-1.0
global:
  aws:
    account: "707767160287"
    awsEsProxyRole: devplanetv2-esproxy-sa
    enabled: true
    secretStoreServiceAccount:
      enabled: true
      roleArn: arn:aws:iam::707767160287:role/devplanetv2-external-secrets-sa
  dev: false
  dictionaryUrl: https://s3.amazonaws.com/dictionary-artifacts/datadictionary/develop/schema.json
  environment: piotr
  externalSecrets:
    deploy: true
  hostname: piotr.planx-pla.net
  manifestGlobalExtraValues:
    es7: true
    kube_bucket: kube-piotr-gen3
    logs_bucket: logs-piotr-gen3
    sync_from_dbgap: "True"
    useryaml_s3path: s3://cdis-gen3-users/dev/user.yaml
  portalApp: gitops
  postgres:
    dbCreate: false
  revproxyArn: arn:aws:acm:us-east-1:707767160287:certificate/c676c81c-9546-4e9a-9a72-725dd3912bc8
guppy:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  guppy:
    authFilterField: auth_resource_path
    configIndex: dev_case-array-config
    indices:
      - index: dev_case
        type: case
      - index: dev_file
        type: file
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/guppy
    tag: "2025.03"
hatchery:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/hatchery
    tag: "2025.03"
indexd:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  externalSecrets:
    serviceCreds: piotr-indexd-service-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexd
    tag: "2025.03"
manifestservice:
  enabled: true
  externalSecrets:
    manifestserviceG3auto: piotr-manifestservice-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/manifestservice
    tag: piotr_feat-discovery-metadata-handoff
metadata:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  externalSecrets:
    metadataG3auto: piotr-metadata-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/metadata-service
    tag: "2024.12"
peregrine:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/peregrine
    tag: "2025.03"
portal:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  gitops:
    json:
      "{\n    \"graphql\": {\n        \"boardCounts\": [\n            {\n    \
      \            \"graphql\": \"_case_count\",\n                \"name\": \"Case\"\
      ,\n                \"plural\": \"Cases\"\n            },\n            {\n  \
      \              \"graphql\": \"_experiment_count\",\n                \"name\"\
      : \"Experiment\",\n                \"plural\": \"Experiments\"\n           \
      \ },\n            {\n                \"graphql\": \"_aliquot_count\",\n    \
      \            \"name\": \"Aliquot\",\n                \"plural\": \"Aliquots\"\
      \n            }\n        ],\n        \"chartCounts\": [\n            {\n   \
      \             \"graphql\": \"_case_count\",\n                \"name\": \"Case\"\
      \n            },\n            {\n                \"graphql\": \"_experiment_count\"\
      ,\n                \"name\": \"Experiment\"\n            },\n            {\n\
      \                \"graphql\": \"_aliquot_count\",\n                \"name\"\
      : \"Aliquot\"\n            }\n        ],\n        \"projectDetails\": \"boardCounts\"\
      \n    },\n    \"components\": {\n        \"appName\": \"Generic Data Commons\
      \ Portal\",\n        \"index\": {\n            \"introduction\": {\n       \
      \         \"heading\": \"Data Commons\",\n                \"text\": \"The Generic\
      \ Data Commons supports the management, analysis and sharing of data for the\
      \ research community.\",\n                \"link\": \"/submission\"\n      \
      \      },\n            \"buttons\": [\n                {\n                 \
      \   \"name\": \"Define Data Field\",\n                    \"icon\": \"data-field-define\"\
      ,\n                    \"body\": \"The Generic Data Commons define the data\
      \ in a general way. Please study the dictionary before you start browsing.\"\
      ,\n                    \"link\": \"/DD\",\n                    \"label\": \"\
      Learn more\"\n                },\n                {\n                    \"\
      name\": \"Explore Data\",\n                    \"icon\": \"data-explore\",\n\
      \                    \"body\": \"The Exploration Page gives you insights and\
      \ a clear overview under selected factors.\",\n                    \"link\"\
      : \"/explorer\",\n                    \"label\": \"Explore data\"\n        \
      \        },\n                {\n                    \"name\": \"Access Data\"\
      ,\n                    \"icon\": \"data-access\",\n                    \"body\"\
      : \"Use our selected tool to filter out the data you need.\",\n            \
      \        \"link\": \"/query\",\n                    \"label\": \"Query data\"\
      \n                },\n                {\n                    \"name\": \"Submit\
      \ Data\",\n                    \"icon\": \"data-submit\",\n                \
      \    \"body\": \"Submit Data based on the dictionary.\",\n                 \
      \   \"link\": \"/submission\",\n                    \"label\": \"Submit data\"\
      \n                }\n            ]\n        },\n        \"navigation\": {\n\
      \            \"title\": \"Generic Data Commons\",\n            \"items\": [\n\
      \                {\n                    \"icon\": \"dictionary\",\n        \
      \            \"link\": \"/DD\",\n                    \"color\": \"#a2a2a2\"\
      ,\n                    \"name\": \"Dictionary\"\n                },\n      \
      \          {\n                    \"icon\": \"exploration\",\n             \
      \       \"link\": \"/explorer\",\n                    \"color\": \"#a2a2a2\"\
      ,\n                    \"name\": \"Exploration\"\n                },\n     \
      \           {\n                    \"icon\": \"query\",\n                  \
      \  \"link\": \"/query\",\n                    \"color\": \"#a2a2a2\",\n    \
      \                \"name\": \"Query\"\n                },\n                {\n\
      \                    \"icon\": \"workspace\",\n                    \"link\"\
      : \"/workspace\",\n                    \"color\": \"#a2a2a2\",\n           \
      \         \"name\": \"Workspace\"\n                },\n                {\n \
      \                   \"icon\": \"profile\",\n                    \"link\": \"\
      /identity\",\n                    \"color\": \"#a2a2a2\",\n                \
      \    \"name\": \"Profile\"\n                }\n            ]\n        },\n \
      \       \"topBar\": {\n            \"items\": [\n                {\n       \
      \             \"icon\": \"upload\",\n                    \"link\": \"/submission\"\
      ,\n                    \"name\": \"Submit Data\"\n                },\n     \
      \           {\n                    \"link\": \"https://gen3.org/resources/user\"\
      ,\n                    \"name\": \"Documentation\"\n                }\n    \
      \        ],\n\t    \"useProfileDropdown\": true\n        },\n        \"login\"\
      : {\n            \"title\": \"Generic Data Commons\",\n            \"subTitle\"\
      : \"Explore, Analyze, and Share Data\",\n            \"text\": \"This website\
      \ supports the management, analysis and sharing of human disease data for the\
      \ research community and aims to advance basic understanding of the genetic\
      \ basis of complex traits and accelerate discovery and development of therapies,\
      \ diagnostic tests, and other technologies for diseases like cancer.\",\n  \
      \          \"contact\": \"If you have any questions about access or the registration\
      \ process, please contact \",\n            \"email\": \"support@datacommons.io\"\
      \n        },\n        \"certs\": {},\n        \"footerLogos\": [\n         \
      \   {\n                \"src\": \"/src/img/gen3.png\",\n                \"href\"\
      : \"https://ctds.uchicago.edu/gen3\",\n                \"alt\": \"Gen3 Data\
      \ Commons\"\n            },\n            {\n                \"src\": \"/src/img/createdby.png\"\
      ,\n                \"href\": \"https://ctds.uchicago.edu/\",\n             \
      \   \"alt\": \"Center for Translational Data Science at the University of Chicago\"\
      \n            }\n        ]\n    },\n    \"requiredCerts\": [],\n    \"featureFlags\"\
      : {\n        \"explorer\": true,\n        \"noIndex\": true,\n        \"analysis\"\
      : false,\n        \"discovery\": false,\n        \"discoveryUseAggMDS\": false,\n\
      \        \"studyRegistration\": false\n    },\n    \"dataExplorerConfig\": {\n\
      \        \"charts\": {\n            \"project_id\": {\n                \"chartType\"\
      : \"count\",\n                \"title\": \"Projects\"\n            },\n    \
      \        \"_case_id\": {\n                \"chartType\": \"count\",\n      \
      \          \"title\": \"Cases\"\n            },\n            \"gender\": {\n\
      \                \"chartType\": \"pie\",\n                \"title\": \"Gender\"\
      \n            },\n            \"race\": {\n                \"chartType\": \"\
      bar\",\n                \"title\": \"Race\"\n            }\n        },\n   \
      \     \"filters\": {\n            \"tabs\": [\n                {\n         \
      \           \"title\": \"Case\",\n                    \"fields\": [\n      \
      \                  \"project_id\",\n                        \"gender\",\n  \
      \                      \"race\",\n                        \"ethnicity\"\n  \
      \                  ]\n                }\n            ]\n        },\n       \
      \ \"table\": {\n            \"enabled\": false\n        },\n        \"dropdowns\"\
      : {},\n        \"buttons\": [\n            {\n                \"enabled\": true,\n\
      \                \"type\": \"data\",\n                \"title\": \"Download\
      \ All Clinical\",\n                \"leftIcon\": \"user\",\n               \
      \ \"rightIcon\": \"download\",\n                \"fileName\": \"clinical.json\"\
      ,\n                \"dropdownId\": \"download\",\n                \"tooltipText\"\
      : \"You have not selected any cases to download. Please use the checkboxes on\
      \ the left to select specific cases you would like to download.\"\n        \
      \    },\n            {\n                \"enabled\": false,\n              \
      \  \"type\": \"manifest\",\n                \"title\": \"Download Manifest\"\
      ,\n                \"leftIcon\": \"datafile\",\n                \"rightIcon\"\
      : \"download\",\n                \"fileName\": \"manifest.json\",\n        \
      \        \"dropdownId\": \"download\"\n            },\n            {\n     \
      \           \"enabled\": true,\n                \"type\": \"export\",\n    \
      \            \"title\": \"Export All to Terra\",\n                \"rightIcon\"\
      : \"external-link\",\n                \"tooltipText\": \"You have not selected\
      \ any cases to export. Please use the checkboxes on the left to select specific\
      \ cases you would like to export.\"\n            },\n            {\n       \
      \         \"enabled\": true,\n                \"type\": \"export-to-pfb\",\n\
      \                \"title\": \"Export to PFB\",\n                \"leftIcon\"\
      : \"datafile\",\n                \"rightIcon\": \"download\"\n            },\n\
      \            {\n                \"enabled\": true,\n                \"type\"\
      : \"export-to-workspace\",\n                \"title\": \"Export to Workspace\"\
      ,\n                \"leftIcon\": \"datafile\",\n                \"rightIcon\"\
      : \"download\"\n            }\n        ],\n        \"guppyConfig\": {\n    \
      \        \"dataType\": \"case\",\n            \"nodeCountTitle\": \"Cases\"\
      ,\n            \"fieldMapping\": [\n                {\n                    \"\
      field\": \"disease_type\",\n                    \"name\": \"Disease type\"\n\
      \                },\n                {\n                    \"field\": \"primary_site\"\
      ,\n                    \"name\": \"Site where samples were collected\"\n   \
      \             }\n            ],\n            \"manifestMapping\": {\n      \
      \          \"resourceIndexType\": \"file\",\n                \"resourceIdField\"\
      : \"object_id\",\n                \"referenceIdFieldInResourceIndex\": \"_case_id\"\
      ,\n                \"referenceIdFieldInDataIndex\": \"_case_id\"\n         \
      \   },\n            \"accessibleFieldCheckList\": [\n                \"project_id\"\
      \n            ],\n            \"accessibleValidationField\": \"project_id\"\n\
      \        }\n    },\n    \"fileExplorerConfig\": {\n        \"charts\": {\n \
      \           \"data_type\": {\n                \"chartType\": \"stackedBar\"\
      ,\n                \"title\": \"File Type\"\n            },\n            \"\
      data_format\": {\n                \"chartType\": \"stackedBar\",\n         \
      \       \"title\": \"File Format\"\n            }\n        },\n        \"filters\"\
      : {\n            \"tabs\": [\n                {\n                    \"title\"\
      : \"File\",\n                    \"fields\": [\n                        \"project_id\"\
      ,\n                        \"data_type\",\n                        \"data_format\"\
      \n                    ]\n                }\n            ]\n        },\n    \
      \    \"table\": {\n            \"enabled\": true,\n            \"fields\": [\n\
      \                \"project_id\",\n                \"file_name\",\n         \
      \       \"file_size\",\n                \"object_id\"\n            ]\n     \
      \   },\n        \"dropdowns\": {},\n        \"guppyConfig\": {\n           \
      \ \"dataType\": \"file\",\n            \"fieldMapping\": [\n               \
      \ {\n                    \"field\": \"object_id\",\n                    \"name\"\
      : \"GUID\"\n                }\n            ],\n            \"nodeCountTitle\"\
      : \"Files\",\n            \"manifestMapping\": {\n                \"resourceIndexType\"\
      : \"case\",\n                \"resourceIdField\": \"_case_id\",\n          \
      \      \"referenceIdFieldInResourceIndex\": \"object_id\",\n               \
      \ \"referenceIdFieldInDataIndex\": \"object_id\"\n            },\n         \
      \   \"accessibleFieldCheckList\": [\n                \"project_id\"\n      \
      \      ],\n            \"accessibleValidationField\": \"project_id\",\n    \
      \        \"downloadAccessor\": \"object_id\"\n        }\n    },\n    \"useArboristUI\"\
      : true,\n    \"showArboristAuthzOnProfile\": true,\n    \"showFenceAuthzOnProfile\"\
      : false,\n    \"showExternalsOnProfile\": true,\n    \"componentToResourceMapping\"\
      : {},\n    \"registrationConfigs\": {\n        \"features\": {\n           \
      \ \"studyRegistrationConfig\": {\n                \"studyRegistrationTrackingField\"\
      : \"registrant_username\",\n                \"studyRegistrationValidationField\"\
      : \"is_registered\",\n                \"studyRegistrationAccessCheckField\"\
      : \"registration_authz\",\n                \"studyRegistrationFormDisclaimerField\"\
      : \"Information provided on this page will be used for correspondence regarding\
      \ your request and may be shared with the NIH and/or the HEAL Data Stewards\"\
      ,\n                \"clinicalTrialFields\": [\n                    \"NCTId\"\
      ,\n                    \"OfficialTitle\",\n                    \"BriefTitle\"\
      ,\n                    \"Acronym\",\n                    \"StudyType\",\n  \
      \                  \"OverallStatus\",\n                    \"StartDate\",\n\
      \                    \"StartDateType\",\n                    \"CompletionDate\"\
      ,\n                    \"CompletionDateType\",\n                    \"IsFDARegulatedDrug\"\
      ,\n                    \"IsFDARegulatedDevice\",\n                    \"IsPPSD\"\
      ,\n                    \"BriefSummary\",\n                    \"DetailedDescription\"\
      ,\n                    \"Condition\",\n                    \"DesignAllocation\"\
      ,\n                    \"DesignPrimaryPurpose\",\n                    \"Phase\"\
      ,\n                    \"DesignInterventionModel\",\n                    \"\
      EnrollmentCount\",\n                    \"EnrollmentType\",\n              \
      \      \"DesignObservationalModel\",\n                    \"InterventionType\"\
      ,\n                    \"PrimaryOutcomeMeasure\",\n                    \"SecondaryOutcomeMeasure\"\
      ,\n                    \"OtherOutcomeMeasure\",\n                    \"Gender\"\
      ,\n                    \"GenderBased\",\n                    \"MaximumAge\"\
      ,\n                    \"MinimumAge\",\n                    \"IPDSharing\",\n\
      \                    \"IPDSharingTimeFrame\",\n                    \"IPDSharingAccessCriteria\"\
      ,\n                    \"IPDSharingURL\",\n                    \"SeeAlsoLinkURL\"\
      ,\n                    \"AvailIPDURL\",\n                    \"AvailIPDId\"\
      ,\n                    \"AvailIPDComment\"\n                ],\n           \
      \     \"dataDictionarySubmissionBucket\": \"\",\n                \"dataDictionarySubmissionDisclaimerField\"\
      : \"All submitted data dictionaries will be available to public.\",\n      \
      \          \"dataDictionaryField\": \"data_dictionaries\"\n            },\n\
      \            \"workspaceRegistrationConfig\": {\n                \"workspacePolicyId\"\
      : \"workspace_strides_integrated\",\n                \"workspaceInfoMessage\"\
      : \"The workspace provides a standardized computational environment for accessing\
      \ and analyzing data from studies. Please fill out this form to request access\
      \ to the workspace and start computing!\",\n                \"successRedirect\"\
      : {\n                    \"link\": \"/discovery\",\n                    \"text\"\
      : \"Go to Discovery Page\"\n                }\n            }\n        },\n \
      \       \"kayakoConfig\": {\n            \"kayakoDepartmentId\": 21\n      \
      \  }\n    }\n}\n"
  image:
    repository: quay.io/cdis/data-portal
    tag: master
revproxy:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/nginx
    tag: "2024.12"
  ingress:
    aws:
      group: piotr-helm
sheepdog:
  autoscaling:
    enabled: true
    maxReplicas: 1
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/sheepdog
    tag: 5.2.0
sower:
  enabled: true
  externalSecrets:
    pelicanserviceG3auto: piotr-pelicanservice-g3auto
    sowerjobsG3auto: piotr-sower-jobs-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/sower
    tag: "2025.03"
  sowerConfig:
    - action: export
      container:
        cpu-limit: "1"
        env:
          - name: DICTIONARY_URL
            valueFrom:
              configMapKeyRef:
                key: dictionary_url
                name: manifest-global
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
          - name: ROOT_NODE
            value: case
        image: quay.io/cdis/pelican-export:master
        memory-limit: 4Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /pelican-creds.json
            name: pelican-creds-volume
            readOnly: true
            subPath: config.json
          - mountPath: /peregrine-creds.json
            name: peregrine-creds-volume
            readOnly: true
            subPath: creds.json
      name: pelican-export
      restart_policy: Never
      volumes:
        - name: pelican-creds-volume
          secret:
            secretName: pelicanservice-g3auto
        - name: peregrine-creds-volume
          secret:
            secretName: peregrine-creds
    - action: import
      container:
        cpu-limit: "1"
        env:
          - name: DICTIONARY_URL
            valueFrom:
              configMapKeyRef:
                key: dictionary_url
                name: manifest-global
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
        image: quay.io/cdis/pelican-import:master
        memory-limit: 4Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /sheepdog-creds.json
            name: sheepdog-creds-volume
            readOnly: true
            subPath: creds.json
      name: pelican-import
      restart_policy: Never
      volumes:
        - name: sheepdog-creds-volume
          secret:
            secretName: sheepdog-creds
spark:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3-spark
    tag: "2025.03"
ssjdispatcher:
  enabled: true
  externalSecrets:
    credsFile: piotr-ssjdispatcher-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/ssjdispatcher
    tag: "2025.03"
  indexing: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexs3client:2024.03
tube:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/tube
    tag: "2025.03"
wts:
  enabled: true
  externalSecrets:
    wtsG3auto: piotr-wts-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/workspace-token-service
    tag: "2025.03"
